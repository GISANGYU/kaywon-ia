<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      Kaywon IA Wireframe – 헤더 우측 검색 + 세로 실시간순위(접힘/펼침)
    </title>
    <style>
      :root {
        --ink: #0f172a;
        --bg: #f7f8fb;
        --line: #e5e7eb;
        --head: #111827;
        --chip: #eef2ff;
        --chiptext: #3730a3;
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        color: var(--ink);
        background: var(--bg);
        font: 15px/1.62 'Pretendard Variable', system-ui, -apple-system,
          Segoe UI, Roboto, 'Noto Sans KR', Arial, sans-serif;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        overflow-x: hidden;
      }
      a {
        color: inherit;
        text-decoration: none;
      }
      .wrap {
        max-width: 1280px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* ---------- Header ---------- */
      header {
        background: #fff;
        border-bottom: 1px solid var(--line);
        position: fixed;
        width: 100%;
        top: 0;
        z-index: 20;
      }
      .hdr-row {
        display: flex;
        align-items: center;
        gap: 24px;
        padding: 12px 0;
      }
      .logo {
        font-weight: 900;
        letter-spacing: 0.02em;
        color: var(--head);
        white-space: nowrap;
      }
      nav {
        flex: 1;
      }
      .gnb {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        padding: 0;
        margin: 0;
      }
      .gnb > li {
        list-style: none;
        position: relative;
      }
      .gnb > li > a {
        display: block;
        padding: 10px 12px;
        border-radius: 8px;
        font-weight: 800;
      }
      .gnb > li:hover > a,
      .gnb > li:focus-within > a {
        background: #f3f4f6;
      }

      /* Mega menu */
      .mega {
        display: none;
        position: absolute;
        left: 0;
        top: 100%;
        z-index: 15;
        min-width: 960px;
        max-width: 1200px;
        background: #fff;
        border: 1px solid var(--line);
        border-radius: 14px;
        box-shadow: 0 12px 34px rgba(16, 24, 40, 0.08);
        padding: 14px;
      }
      .gnb > li:hover .mega,
      .gnb > li:focus-within .mega {
        display: block;
      }
      .mega-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(260px, 1fr));
        gap: 12px;
      }
      .mega h4 {
        margin: 8px 8px 6px;
        font-size: 13px;
        color: #374151;
        font-weight: 800;
      }
      .mega ul {
        margin: 0;
        padding: 0 8px 10px;
      }
      .mega li {
        list-style: none;
        margin: 6px 0;
      }
      .mega a.item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        border: 1px dashed var(--line);
        background: #fff;
        padding: 10px 12px;
        border-radius: 10px;
        font-weight: 700;
      }
      .tag {
        display: inline-block;
        background: var(--chip);
        color: var(--chiptext);
        border: 1px solid #e0e7ff;
        padding: 2px 8px;
        border-radius: 999px;
        font-size: 11px;
      }

      /* Header-right search */
      .hdr-search {
        position: relative;
        width: min(380px, 36vw);
      }
      .search-box {
        display: flex;
        gap: 8px;
        align-items: center;
        border: 2px dashed var(--line);
        border-radius: 12px;
        padding: 8px 10px;
        background: #f9fafb;
      }
      .search-box input {
        flex: 1;
        border: 0;
        background: transparent;
        outline: none;
        font-size: 15px;
      }
      .search-box .btn {
        border: 1px solid var(--line);
        background: #fff;
        border-radius: 10px;
        padding: 7px 14px;
        font-weight: 800;
        white-space: nowrap;
      }

      /* Autocomplete (attached to header search) */
      .ac {
        position: absolute;
        left: 0;
        right: 0;
        top: 100%;
        margin-top: 6px;
        background: #fff;
        border: 1px solid var(--line);
        border-radius: 10px;
        box-shadow: 0 10px 24px rgba(16, 24, 40, 0.08);
        display: none;
        max-height: 280px;
        overflow: auto;
        text-align: left;
      }
      .ac.open {
        display: block;
      }
      .ac ul {
        list-style: none;
        margin: 0;
        padding: 6px;
      }
      .ac li {
        padding: 10px 12px;
        border-radius: 8px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        gap: 8px;
      }
      .ac li:hover,
      .ac li.active {
        background: #f3f4f6;
      }
      .sug {
        display: inline-block;
      } /* 전체 제안 텍스트를 한 덩어리로 */
      .ac small {
        color: #94a3b8;
        margin-left: auto;
      } /* 우측으로 밀기 */
      .hl {
        background: linear-gradient(180deg, #fff 45%, #fde68a 0);
        padding: 0 2px;
        border-radius: 3px;
      }

      /* Rank band under header (collapsible) */
      .rank-band {
        background: #fff;
        border-top: 1px solid var(--line);
        border-bottom: 1px solid var(--line);
        overflow: hidden;
        max-height: 0;
        padding: 0;
        transition: max-height 0.5s ease, padding 0.5s ease;
      }
      .rank-band .rank-wrap {
        opacity: 0;
        transition: opacity 0.35s ease;
      }
      .rank-band.show {
        max-height: 420px;
        padding: 14px 0;
      }
      .rank-band.show .rank-wrap {
        opacity: 1;
      }

      .rank-wrap {
        display: flex;
        flex-direction: column;
        gap: 10px;
        align-items: left;
      }
      .rank-title {
        font-weight: 900;
        color: #111827;
        padding-bottom: 10px;
        padding-top: 5px;
      }
      .hot-keys {
        width: min(400px, 92vw);
      }
      .hot-keys ol {
        margin: 0;
        padding: 0;
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 6px;
      }
      .time {
        margin-left: auto; /* 오른쪽 정렬 */
        color: #94a3b8;
        font-size: 12px;
        font-weight: 700;
        white-space: nowrap;
      }
      .hot-keys li {
        border: 1px dashed var(--line);
        background: #fff;
        border-radius: 10px;
        padding: 8px 12px;
        display: flex;
        align-items: center;
        gap: 10px;
        min-height: 40px;
        position: relative;
        overflow: hidden;
        text-align: left;
        justify-content: flex-start;
      }
      .rank {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
        border-radius: 999px;
        font-weight: 900;
        font-size: 12px;
        color: #fff;
        background: #64748b;
        flex: 0 0 24px;
      }
      .label {
        font-weight: 800;
      }
      .swap-out {
        animation: swapOut 0.3s ease both;
      }
      .swap-in {
        animation: swapIn 0.3s ease both;
      }
      @keyframes swapOut {
        from {
          opacity: 1;
          transform: translateY(0);
        }
        to {
          opacity: 0;
          transform: translateY(-8px);
        }
      }
      @keyframes swapIn {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* ---------- Main & Footer ---------- */
      main {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #94a3b8;
      }
      .placeholder {
        border: 2px dashed #cbd5e1;
        border-radius: 14px;
        padding: 36px 24px;
        background: #ffffff80;
      }
      footer {
        background: #fff;
        border-top: 1px solid var(--line);
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(220px, 1fr));
        gap: 16px;
        padding: 22px 0;
      }
      .footer-grid h5 {
        margin: 0 0 8px;
        font-size: 14px;
        color: #111827;
      }
      .footer-grid ul {
        margin: 0;
        padding: 0;
      }
      .footer-grid li {
        list-style: none;
        margin: 6px 0;
      }
      .footer-grid a {
        border: 1px dashed var(--line);
        background: #fff;
        padding: 6px 10px;
        border-radius: 8px;
        display: inline-block;
      }
      .foot-bottom {
        border-top: 1px dashed var(--line);
        padding: 12px 0;
        color: #6b7280;
        font-size: 13px;
        display: flex;
        justify-content: space-between;
        gap: 10px;
        flex-wrap: wrap;
      }
    </style>
  </head>
  <body>
    <header>
      <!-- 로고 + 네비 + (오른쪽) 검색 -->
      <div class="wrap hdr-row" role="banner">
        <div class="logo">Kaywon IA</div>

        <nav aria-label="주요 메뉴">
          <ul class="gnb">
            <!-- (메뉴 항목은 이전과 동일) -->
            <li>
              <a href="#" aria-haspopup="true">학사서비스</a>
              <div class="mega" role="menu">
                <div class="mega-grid">
                  <div>
                    <h4>수강신청</h4>
                    <ul>
                      <li>
                        <a class="item" href="#"
                          >수강신청 <span class="tag">종합정보시스템</span></a
                        >
                      </li>
                      <li><a class="item" href="#">신청 일정</a></li>
                      <li><a class="item" href="#">수강편람/계획서</a></li>
                      <li><a class="item" href="#">가이드·FAQ</a></li>
                    </ul>
                    <h4>등록금/납부 안내</h4>
                    <ul>
                      <li><a class="item" href="#">고지서 조회/출력</a></li>
                      <li><a class="item" href="#">납부 일정/방법</a></li>
                      <li><a class="item" href="#">환불 규정</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>장학 안내</h4>
                    <ul>
                      <li><a class="item" href="#">장학금 안내</a></li>
                      <li><a class="item" href="#">신청 일정</a></li>
                      <li><a class="item" href="#">학자금 대출</a></li>
                      <li><a class="item" href="#">FAQ · 문의처</a></li>
                      <li><a class="item" href="#">국가 장학금</a></li>
                    </ul>
                    <h4>개인 시간표</h4>
                    <ul>
                      <li><a class="item" href="#">시간표 보기</a></li>
                      <li><a class="item" href="#">캘린더 동기화</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>학사일정·성적/졸업</h4>
                    <ul>
                      <li><a class="item" href="#">학사일정</a></li>
                      <li><a class="item" href="#">성적/졸업</a></li>
                      <li><a class="item" href="#">공결 신청</a></li>
                      <li><a class="item" href="#">증명서 발급</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li>
              <a href="#" aria-haspopup="true">입학안내</a>
              <div class="mega" role="menu">
                <div class="mega-grid">
                  <div>
                    <h4>모집요강</h4>
                    <ul>
                      <li><a class="item" href="#">전형/모집단위</a></li>
                      <li><a class="item" href="#">지원 자격·커리큘럼</a></li>
                      <li><a class="item" href="#">제출서류·유의사항</a></li>
                    </ul>
                    <h4>원서 접수</h4>
                    <ul>
                      <li><a class="item" href="#">접수하기</a></li>
                      <li><a class="item" href="#">접수 안내</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>전형 일정</h4>
                    <ul>
                      <li><a class="item" href="#">캘린더/고사장</a></li>
                      <li><a class="item" href="#">수험표 출력</a></li>
                    </ul>
                    <h4>합격자 발표</h4>
                    <ul>
                      <li><a class="item" href="#">개별 조회</a></li>
                      <li><a class="item" href="#">등록 안내</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>캠퍼스 투어</h4>
                    <ul>
                      <li><a class="item" href="#">가상투어/방문 예약</a></li>
                      <li><a class="item" href="#">홍보자료 다운로드</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li>
              <a href="#" aria-haspopup="true">학과/대학 소개</a>
              <div class="mega" role="menu">
                <div class="mega-grid">
                  <div>
                    <h4>학과 정보</h4>
                    <ul>
                      <li><a class="item" href="#">학과소개</a></li>
                      <li><a class="item" href="#">커리큘럼</a></li>
                      <li><a class="item" href="#">졸업 요건</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>구성원/성과</h4>
                    <ul>
                      <li><a class="item" href="#">교수진</a></li>
                      <li><a class="item" href="#">전시/수상</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>계열 소식</h4>
                    <ul>
                      <li><a class="item" href="#">계열 소개</a></li>
                      <li><a class="item" href="#">홍보 영상</a></li>
                      <li><a class="item" href="#">자료 모음</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li>
              <a href="#" aria-haspopup="true">대학생활</a>
              <div class="mega" role="menu">
                <div class="mega-grid">
                  <div>
                    <h4>시설/복지</h4>
                    <ul>
                      <li><a class="item" href="#">도서관</a></li>
                      <li><a class="item" href="#">식당</a></li>
                      <li><a class="item" href="#">셔틀</a></li>
                      <li><a class="item" href="#">대관/장비</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>기숙사</h4>
                    <ul>
                      <li><a class="item" href="#">입사 안내/비용</a></li>
                      <li><a class="item" href="#">생활/시설 안내</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>동아리</h4>
                    <ul>
                      <li><a class="item" href="#">목록/모집</a></li>
                      <li><a class="item" href="#">공간 신청</a></li>
                      <li><a class="item" href="#">활동 공지/갤러리</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li>
              <a href="#" aria-haspopup="true">뉴스센터</a>
              <div class="mega" role="menu">
                <div class="mega-grid">
                  <div>
                    <h4>공지사항</h4>
                    <ul>
                      <li><a class="item" href="#">전체 공지</a></li>
                      <li><a class="item" href="#">교내 소식</a></li>
                      <li><a class="item" href="#">채용 공고</a></li>
                      <li><a class="item" href="#">학사 공지</a></li>
                      <li><a class="item" href="#">장학 공지</a></li>
                      <li><a class="item" href="#">입학 공지</a></li>
                      <li><a class="item" href="#">등록금 안내</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>경력(연동)</h4>
                    <ul>
                      <li><a class="item" href="#">경력개발시스템</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>계원 홍보</h4>
                    <ul>
                      <li><a class="item" href="#">홍보 영상</a></li>
                      <li><a class="item" href="#">뉴스레터</a></li>
                      <li><a class="item" href="#">학보</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li>
              <a href="#" aria-haspopup="true">빠른 서비스</a>
              <div class="mega" role="menu">
                <div class="mega-grid">
                  <div>
                    <h4>도움말</h4>
                    <ul>
                      <li><a class="item" href="#">AI 챗봇 / FAQ</a></li>
                      <li><a class="item" href="#">키워드 검색 연동</a></li>
                      <li><a class="item" href="#">주제별 FAQ</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>문의/상태</h4>
                    <ul>
                      <li><a class="item" href="#">1:1 문의</a></li>
                      <li><a class="item" href="#">접수/처리현황</a></li>
                    </ul>
                  </div>
                  <div>
                    <h4>서비스</h4>
                    <ul>
                      <li><a class="item" href="#">서비스 공지</a></li>
                      <li><a class="item" href="#">점검/장애</a></li>
                      <li><a class="item" href="#">이용가이드</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </nav>

        <!-- 헤더 오른쪽: 검색 -->
        <div class="hdr-search">
          <div class="search-box">
            <input
              id="q"
              type="text"
              placeholder="검색어를 입력하세요 (예: 학사일정, 수강신청…)"
              aria-label="사이트 검색"
              autocomplete="off"
            />
            <button class="btn" type="button" id="searchBtn">검색</button>
          </div>
          <div class="ac" id="ac" role="listbox" aria-label="자동완성 제안">
            <ul id="acList"></ul>
          </div>
        </div>
      </div>

      <!-- 헤더 하단: 실시간 검색어 (접힘/펼침) -->
      <div class="rank-band" id="rankBand">
        <div class="wrap rank-wrap">
          <div class="rank-title">실시간 검색어</div>
          <div class="hot-keys">
            <ol id="hotRanks">
              <span class="time"></span>
            </ol>
          </div>
        </div>
      </div>
    </header>

    <main>
      <div class="placeholder">와이어프레임: 메인 콘텐츠 영역</div>
    </main>

    <footer>
      <div class="wrap">
        <div class="footer-grid" aria-label="푸터 링크">
          <div>
            <h5>대학 소개/안내</h5>
            <ul>
              <li><a href="#">대학소개</a></li>
              <li><a href="#">찾아오는 길</a></li>
              <li><a href="#">캠퍼스맵</a></li>
            </ul>
          </div>
          <div>
            <h5>규정/정책</h5>
            <ul>
              <li><a href="#">규정/정책</a></li>
              <li><a href="#">개인정보처리방침</a></li>
              <li><a href="#">연락처</a></li>
              <li><a href="#">SNS</a></li>
            </ul>
          </div>
          <div>
            <h5>유틸리티</h5>
            <ul>
              <li><a href="#">HOME</a></li>
              <li><a href="#">SITEMAP</a></li>
              <li><a href="#">ENGLISH SITE</a></li>
            </ul>
          </div>
          <div>
            <h5>SNS</h5>
            <ul>
              <li><a href="#">인스타그램</a></li>
              <li><a href="#">유튜브</a></li>
              <li><a href="#">블로그</a></li>
            </ul>
          </div>
        </div>
        <div class="foot-bottom">
          <div>© Kaywon University · IA Wireframe</div>
          <div>원칙: 2~3 클릭 · 단순화/중복제거 · 검색/개인화 강화</div>
        </div>
      </div>
    </footer>

    <script>
      /* ---------- 자동완성 키워드 ---------- */
      const KEYWORDS = [
        '학사일정',
        '수강신청',
        '장학금',
        '등록금',
        '시간표',
        '증명서 발급',
        '공결 신청',
        '성적',
        '졸업',
        '학자금 대출',
        '고지서',
        '환불 규정',
        '원서접수',
        '전형일정',
        '합격자 발표',
        '모집요강',
        '수험표',
        '학과소개',
        '커리큘럼',
        '졸업 요건',
        '교수진',
        '전시',
        '수상',
        '계열 소개',
        '홍보 영상',
        '도서관',
        '식당',
        '셔틀',
        '대관',
        '기숙사',
        '공지사항',
        '교내 소식',
        '채용공고',
        '장학 공지',
        '등록금 안내',
        '뉴스레터',
        '학보',
        '보도자료',
        'AI 챗봇',
        'FAQ',
        '1:1 문의',
        '서비스 공지',
        '점검',
        '이용가이드',
        '캠퍼스맵',
        '찾아오는 길',
        '캠퍼스 투어',
        '국가 장학금',
        '상담',
        '국제교류',
      ];

      /* ---------- 실시간 검색어 (세로 1~7위 / 12초 갱신 / 뒤→앞 0.5s 스태거) ---------- */
      const HOT_POOL = [
        '수강신청',
        '학사일정',
        '장학금',
        '등록금',
        '시간표',
        '증명서 발급',
        '기숙사',
        '원서접수',
        '전형일정',
        '합격자 발표',
        '도서관',
        '셔틀',
        '식당',
        '동아리',
        '공결',
        '성적',
        '졸업',
        '커리큘럼',
        '교수진',
        '보도자료',
      ];
      const hotRanksEl = document.getElementById('hotRanks');

      function pick7() {
        const arr = [...HOT_POOL];
        const out = [];
        while (out.length < 7 && arr.length) {
          const i = Math.floor(Math.random() * arr.length);
          out.push(arr.splice(i, 1)[0]);
        }
        return out;
      }

      function renderInitial() {
        const list = pick7();
        hotRanksEl.innerHTML = list
          .map(
            (label, idx) =>
              `<li><span class="rank">${
                idx + 1
              }</span><span class="label">${label}</span></li>`
          )
          .join('');
      }

      function updateStaggered() {
        const next = pick7();
        const lis = [...hotRanksEl.querySelectorAll('li')];
        for (let i = lis.length - 1; i >= 0; i--) {
          const li = lis[i];
          const labelEl = li.querySelector('.label');
          setTimeout(() => {
            li.classList.remove('swap-in');
            li.classList.add('swap-out');
            setTimeout(() => {
              labelEl.textContent = next[i];
              li.classList.remove('swap-out');
              li.classList.add('swap-in');
            }, 300);
          }, (lis.length - 1 - i) * 500);
        }
      }

      renderInitial();
      setInterval(updateStaggered, 8200);

      /* ---------- 자동완성 (가독성 개선) ---------- */
      const q = document.getElementById('q');
      const ac = document.getElementById('ac');
      const acList = document.getElementById('acList');
      let acItems = [];
      let acIndex = -1;

      function highlight(text, term) {
        const t = term.trim();
        if (!t) return text;
        const reg = new RegExp(
          `(${t.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\$&')})`,
          'gi'
        );
        return `<span class="sug">${text.replace(
          reg,
          '<span class="hl">$1</span>'
        )}</span>`;
      }
      function openAC(list) {
        if (list.length === 0) {
          ac.classList.remove('open');
          return;
        }
        acList.innerHTML = list
          .map(
            (s) =>
              `<li role="option" data-val="${s}">${highlight(
                s,
                q.value
              )}<small>검색 제안</small></li>`
          )
          .join('');
        ac.classList.add('open');
        acIndex = -1;
        acItems = [...acList.querySelectorAll('li')];
      }
      function closeAC() {
        ac.classList.remove('open');
        acIndex = -1;
      }

      q.addEventListener('input', () => {
        const term = q.value.trim();
        if (!term) {
          closeAC();
          return;
        }
        const list = KEYWORDS.filter((k) =>
          k.toLowerCase().includes(term.toLowerCase())
        ).slice(0, 10);
        openAC(list);
      });
      q.addEventListener('keydown', (e) => {
        if (!ac.classList.contains('open')) return;
        if (e.key === 'ArrowDown') {
          e.preventDefault();
          acIndex = (acIndex + 1) % acItems.length;
          setActive();
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          acIndex = (acIndex - 1 + acItems.length) % acItems.length;
          setActive();
        } else if (e.key === 'Enter') {
          if (acIndex >= 0) {
            e.preventDefault();
            choose(acItems[acIndex].dataset.val);
          }
        } else if (e.key === 'Escape') {
          closeAC();
        }
      });
      function setActive() {
        acItems.forEach((li, i) =>
          li.classList.toggle('active', i === acIndex)
        );
        acItems[acIndex]?.scrollIntoView({ block: 'nearest' });
      }
      function choose(val) {
        q.value = val;
        closeAC();
        document.getElementById('searchBtn').style.background =
          'linear-gradient(90deg,#e9ffef,#fff)';
        setTimeout(
          () =>
            (document.getElementById('searchBtn').style.background = '#fff'),
          400
        );
      }
      ac.addEventListener('click', (e) => {
        const li = e.target.closest('li[data-val]');
        if (li) choose(li.dataset.val);
      });
      document.addEventListener('click', (e) => {
        if (!ac.contains(e.target) && e.target !== q) closeAC();
      });

      /* ---------- rank-band 펼침/접힘 ---------- */
      const rankBand = document.getElementById('rankBand');
      q.addEventListener('focus', () => rankBand.classList.add('show'));
      q.addEventListener('blur', () => rankBand.classList.remove('show'));

      function formatNow() {
        const d = new Date();
        const yy = String(d.getFullYear() % 100).padStart(2, '0');
        const mm = String(d.getMonth() + 1).padStart(2, '0');
        const dd = String(d.getDate()).padStart(2, '0');
        const HH = String(d.getHours()).padStart(2, '0');
        const MM = String(d.getMinutes()).padStart(2, '0');
        return `${yy}.${mm}.${dd} ${HH}:${MM} 기준`;
      }

      function renderInitial() {
        const list = pick7();
        const t = formatNow(); // 모든 항목에 동일 기준 시각
        hotRanksEl.innerHTML = list
          .map(
            (label, idx) =>
              `<li>
       <span class="rank">${idx + 1}</span>
       <span class="label">${label}</span>
       <span class="time">${t}</span>
     </li>`
          )
          .join('');
      }

      function updateStaggered() {
        const next = pick7();
        const lis = [...hotRanksEl.querySelectorAll('li')];
        const t = formatNow(); // 이번 갱신의 기준 시각(모든 항목 동일)
        for (let i = lis.length - 1; i >= 0; i--) {
          const li = lis[i];
          const labelEl = li.querySelector('.label');
          const timeEl = li.querySelector('.time');
          setTimeout(() => {
            li.classList.remove('swap-in');
            li.classList.add('swap-out');
            setTimeout(() => {
              labelEl.textContent = next[i];
              timeEl.textContent = t; // 시간도 함께 갱신
              li.classList.remove('swap-out');
              li.classList.add('swap-in');
            }, 300);
          }, (lis.length - 1 - i) * 500);
        }
      }
    </script>
  </body>
</html>
